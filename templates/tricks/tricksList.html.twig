{% extends 'generic/base.html.twig' %}
{% block title %}Homepage-Liste tricks{% endblock %}
{% block body %}
    <div class="container-fluid my-3 vh-100 text-center d-flex align-baseline position-relative" style="justify-content: center;align-items: center;background:url('https://images.unsplash.com/photo-1418662589339-364ad47f98a2?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1464&q=80') no-repeat;background-size:100% auto;">
        <p class="h1 text-secondary p-1 bg-white" >Snowtricks, ma√Ætrisez vos figures favorites.</p>
        <a href="#tricks_list_section" class="btn btn-info position-absolute bottom-0 end-50"> <i class="fas fa-arrow-down"></i> </a>
        {#  <img class="img-fluid" src="https://images.unsplash.com/photo-1418662589339-364ad47f98a2?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1464&q=80">#}
    </div>
    <div class="container" id="tricks_list_section">
        {#Tricks cards #}
        <div class="row ">
            {% for trick in tricks %}
            <div class="col-2 d-flex">
                <div class="card my-2 align-self-stretch">
                    <div class="card-body d-flex flex-column justify-content-between">
                        <div class="row d-flex justify-content-center m-auto">
                            <div class="card-img ">
                                {% if trick.id in mainMediasId %}
                                    {% for media in mainMedias %}
                                        {% if media.trick.id==trick.id %}
                                            <img class="img-fluid" alt="image principale de la figure" src="{{ asset('uploads/images/')}}{{ media.url }}">
                                        {% endif %}
                                    {% endfor %}
                                {% else %}
                                    <img class="img-fluid" alt="image principale de la figure" src="https://images.vexels.com/media/users/3/138249/isolated/lists/547f540b7088f1adcd50b17cc319a054-snowboarding-winter.png">
                                {% endif %}
                            </div>
                        </div>
                        <div class="row d-flex justify-content-center mt-2 border-top pt-2">
                            <div class="card-title d-flex justify-content-center">
                                <a class="text-center align-self-end" href="{{ path('Trick.show', {trickId:trick.id}) }}">{{ trick.name }}</a>
                            </div>
                            {% if app.user %}
                            <div class="row text-white mt-1 align-items-center ">
                                <div class="col-6 text-center ">
                                    <a class="btn btn-secondary text-center rounded" href="{{ path('Trick.edit', {trickId:trick.id}) }}"><i class="far fa-edit"></i></a>
                                </div>
                                <div class="col-6 text-center ">
                                    <a class="btn btn-danger text-center rounded"href="#"><i class="far fa-trash-alt"></i></a>
                                </div>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {#"load more" and "go up" buttons #}
        <div class="row my-2 d-flex position-relative text-center" style="min-height: 40px;">
            <div class="text-center">
                <a href="#tricks_list_section" class="btn btn-warning "> Tricks suivants</a>
            </div>
            <div class="position-absolute top-0 start-50">
                <a href="#tricks_list_section" class="btn btn-info "> <i class="fas fa-arrow-up"></i> </a>
            </div>
        </div>

    </div>

{% endblock %}

